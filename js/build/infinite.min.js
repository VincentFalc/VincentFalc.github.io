function removeWrap(){$(".jscroll-added article").unwrap()}!function(m){"use strict";m.jscroll={defaults:{debug:!1,autoTrigger:!0,autoTriggerUntil:!1,loadingHtml:"<small>Loading...</small>",padding:0,nextSelector:"a:last",contentSelector:"",pagingSelector:"",callback:!1}};var n=function(a,t){var e,l=a.data("jscroll"),n="function"==typeof t?{callback:t}:t,s=m.extend({},m.jscroll.defaults,n,l||{}),d="visible"===a.css("overflow-y"),r=a.find(s.nextSelector).first(),o=m(window),i=m("body"),f=d?o:a,c=m.trim(r.attr("href")+" "+s.contentSelector),u=function(){a.find(".jscroll-inner").length||a.contents().wrapAll('<div class="jscroll-inner" />')},g=function(t){s.pagingSelector?t.closest(s.pagingSelector).hide():t.parent().not(".jscroll-inner,.jscroll-added").addClass("jscroll-next-parent").hide().length||t.wrap('<div class="jscroll-next-parent" />').parent().hide()},p=function(){return f.unbind(".jscroll").removeData("jscroll").find(".jscroll-inner").children().unwrap().filter(".jscroll-added").children().unwrap()},j=function(){u();var t=a.find("div.jscroll-inner").first(),e=a.data("jscroll"),l=parseInt(a.css("borderTopWidth"),10),n=isNaN(l)?0:l,r=parseInt(a.css("paddingTop"),10)+n,o=d?f.scrollTop():a.offset().top,i=t.length?t.offset().top:0,c=Math.ceil(o-i+f.height()+r);if(!e.waiting&&c+s.padding>=t.outerHeight())return b("info","jScroll:",t.outerHeight()-c,"from bottom. Loading next request..."),v()},h=function(){var t=a.find(s.nextSelector).first();t.length&&(s.autoTrigger&&(!1===s.autoTriggerUntil||0<s.autoTriggerUntil)?(g(t),i.height()<=o.height()&&j(),f.unbind(".jscroll").bind("scroll.jscroll",function(){return j()}),0<s.autoTriggerUntil&&s.autoTriggerUntil--):(f.unbind(".jscroll"),t.bind("click.jscroll",function(){return g(t),v(),!1})))},v=function(){var t=a.find("div.jscroll-inner").first(),r=a.data("jscroll");return r.waiting=!0,t.append('<div class="jscroll-added" />').children(".jscroll-added").last().html('<div class="jscroll-loading">'+s.loadingHtml+"</div>"),a.animate({scrollTop:t.outerHeight()},0,function(){t.find("div.jscroll-added").last().load(r.nextHref,function(t,e){if("error"===e)return p();var l,n=m(this).find(s.nextSelector).first();r.waiting=!1,r.nextHref=!!n.attr("href")&&m.trim(n.attr("href")+" "+s.contentSelector),m(".jscroll-next-parent",a).remove(),(l=l||a.data("jscroll"))&&l.nextHref?h():(b("warn","jScroll: nextSelector not found - destroying"),p()),s.callback&&s.callback.call(this),b("dir",r)})})},b=function(t){if(s.debug&&"object"==typeof console&&("object"==typeof t||"function"==typeof console[t]))if("object"==typeof t){var e=[];for(var l in t)"function"==typeof console[l]?(e=t[l].length?t[l]:[t[l]],console[l].apply(console,e)):console.log.apply(console,e)}else console[t].apply(console,Array.prototype.slice.call(arguments,1))};return a.data("jscroll",m.extend({},l,{initialized:!0,waiting:!1,nextHref:c})),u(),(e=m(s.loadingHtml).filter("img").attr("src"))&&((new Image).src=e),h(),m.extend(a.jscroll,{destroy:p}),a};m.fn.jscroll=function(l){return this.each(function(){var t=m(this),e=t.data("jscroll");e&&e.initialized||new n(t,l)})}}(jQuery),$(document).ready(function(){$(".articles").jscroll({contentSelector:"article",nextSelector:".next",callback:removeWrap})});